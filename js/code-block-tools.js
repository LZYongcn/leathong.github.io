KEEP.initCodeBlockTools=()=>{HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this),e.appendChild(this)};var e=(KEEP.theme_config?.code_copy)["style"],t=(KEEP.theme_config?.code_block_tools)["style"];const l="mac"===(t||e||"default"),c=l?"fas fa-chevron-left":"fas fa-chevron-right",{copy:n,copied:d,fold:i,folded:p}=KEEP.language_code_block,f=`<span class="tool fold tooltip" data-content="${i}"><i class="fas fa-chevron-down"></i></span>`;document.querySelectorAll("figure.highlight").forEach(s=>{let e=s.classList.length?s.classList[1].toUpperCase():"";"PLAINTEXT"===e&&(e="");var t=document.createElement("div"),o=(t.classList.add("highlight-container"),s.wrap(t),e?'<span class="code-lang">'+e+"</span>":"");t.insertAdjacentHTML("afterbegin",`<div class="code-tools-box">
        ${l?f+o:"<span>"+f+o+"</span>"}
        <span class="tool copy tooltip" data-content="${n}"><i class="fas fa-copy"></i></span>
      </div>`);const r=s.parentNode.querySelector(".code-tools-box");t=r.querySelector(".copy"),o=r.querySelector(".fold");t.addEventListener("click",e=>{var e=e.currentTarget,t=[...s.querySelectorAll(".code .line")].map(e=>e.innerText).join("\n"),o=document.createElement("textarea"),a=(o.style.top=window.scrollY+"px",o.style.position="absolute",o.style.opacity="0",o.readOnly=!0,o.value=t,document.body.append(o),document.getSelection()),l=0<a.rangeCount&&a.getRangeAt(0),t=(o.select(),o.setSelectionRange(0,t.length),o.readOnly=!1,document.execCommand("copy")),c=e.querySelector("i"),n=r.querySelector(".copy .tooltip-content");t?(c.className="fas fa-check",n&&(n.innerHTML=d)):c.className="fas fa-times",o.blur(),e.blur(),l&&(a.removeAllRanges(),a.addRange(l)),document.body.removeChild(o)}),t.addEventListener("mouseleave",t=>{setTimeout(()=>{t.target.querySelector("i").className="fas fa-copy";var e=r.querySelector(".copy .tooltip-content");e&&(e.innerHTML=n)},500)});let a=!1;o.addEventListener("click",e=>{var e=e.currentTarget.querySelector("i"),t=r.querySelector(".fold .tooltip-content");(a=!a)?(e.className=c,s.classList.add("folded"),r.classList.add("folded"),t&&(t.innerHTML=p)):(e.className="fas fa-chevron-down",s.classList.remove("folded"),r.classList.remove("folded"),t&&(t.innerHTML=i))})})};